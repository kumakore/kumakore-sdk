<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>iOS: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="kumakore-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">iOS
   &#160;<span id="projectnumber">v0.7.0.0</span>
   </div>
   <div id="projectbrief">Every Platform. One Solution.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">iOS Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Kumakore SDK Overview</h2>
<p>The Kumakore service is a web service that provides RESTful API's to handle backend services: e.g., leaderboards, achievements, application versioning, users, facebook, friends, inventory, matches, push and datastorage. The Kumakore iOS SDK handles the REST calls for you and presents the data in an easy to access format.</p>
<h2>The SDK</h2>
<h3>Synchronous vs Asynchronous</h3>
<p>The SDK contains both synchronous and asynchronous functions for the methods where it makes sense to have both. Synchronus functions begin with sync and asynchronous functions begin with async. Most functions in this SDK require a block as one of the parameters. If the function is synchronous, the block will execute before the function returns. If the function is asynchronous, the block function as a callback and be run when the REST call finishes.</p>
<h3><a class="el" href="interface_k_k_return_status.html">KKReturnStatus</a></h3>
<p>One of the parameters in every block (both synchronous and asynchronous) is the <a class="el" href="interface_k_k_return_status.html">KKReturnStatus</a> which contains information about how the request executed, including returning error codes such as invalid parameters or user not signed in. The <a class="el" href="interface_k_k_return_status.html">KKReturnStatus</a> also holds information about how the HTTP request returned, containing both the HTTP status code, and the error code and message returned from the Kumakore servers.</p>
<h3><a class="el" href="interface_k_k_application.html">KKApplication</a></h3>
<p>To proceed further, you will need to have created an Application through the Kumakore Dashboard. Some knowledge of how the Kumakore service works is advisable as well. To start, add the Kumakorelib files to your project and import the appropriate header files. To start we'll need to create a <a class="el" href="interface_k_k_application.html">KKApplication</a> which represents the application you created on the Dashboard. You will also need the APIKey associated with the application.</p>
<p>Create a <a class="el" href="interface_k_k_application.html">KKApplication</a> and initialize it: </p>
<pre class="fragment">NSString API_Key = @"APIKEY";
KKApplication *app = [[KKApplication alloc] init:API_KEY];
</pre><p>After creating the application, you'll want to set the Application Version of the current code you are using. </p>
<pre class="fragment">[app setAppVersion:@"1.0"];
</pre><p>By default, your application should accept all Application Version, but this can be changed in the Dashboard.</p>
<p>Next we'll need to set the Dashboard Version. </p>
<pre class="fragment">[app setDashboardVersion:@"1234567"];
</pre><p>If this variable is not set, any rest calls made to this application will use a dashboard version of 0 and will most likely return invalid dashboard version.</p>
<p>If a method ever returns invalid dashboard version, the method: </p>
<pre class="fragment">[app updateDashboardVersion];
</pre><p>will set the dashboard version to the version sent by the server.</p>
<p>After your <a class="el" href="interface_k_k_application.html">KKApplication</a> is set up, the next thing you'll probably want to sign up a Kumakore User.</p>
<h3><a class="el" href="interface_k_k_user.html">KKUser</a></h3>
<p>The <a class="el" href="interface_k_k_user.html">KKUser</a> class represents the Kumakore User. You'll need to create one and have it signed in to access most of the features of the Kumakore Service.</p>
<p>To create a user, you'll need to initialize it with a <a class="el" href="interface_k_k_application.html">KKApplication</a> so that the user will be linked to that Application. </p>
<pre class="fragment">KKUser *user = [[KKUser alloc] init:app];
</pre><p>After a <a class="el" href="interface_k_k_user.html">KKUser</a> is created, it needs to be signed in. If you do not have a previous user to use, you can call the sign up function to create a new user. To use this you first need to create a <a class="el" href="interface_k_k_user_data.html">KKUserData</a> object and populate it with information. </p>
<pre class="fragment">KKUserData *userData = [[KKUserData alloc] init];
userData.email = @"signup@email.com";
</pre><p>Also, if you need return parameters, a block. </p>
<pre class="fragment">void (^returnBlock)(KKReturnStatus*) = ^(KKReturnStatus* returnCode) {
    if ([returnCode success]){
        // Sign up successfull
    }
    else {
       // Sign up fail
    }

};
</pre><p>Now we can call the method for sign up: </p>
<pre class="fragment">[user syncSignUp:userData return: returnBlock];
</pre><p>Note that if you do not care about how the method returns, you can send in nil for the return block. </p>
<pre class="fragment">[user syncSignUp:userData return: nil];
</pre><p>The return blocks are also used to return data that would be requested. For example, the return block for syncGetProfileInfo returns a <a class="el" href="interface_k_k_user_data.html">KKUserData</a>. If you're logged into a user and want to find out what your username is, you can use syncGetProfileInfo. </p>
<pre class="fragment">__BLOCK NSString *username;
void (^returnBlock)(KKReturnStatus*, KKUserData*) = ^(KKReturnStatus* returnCode, KKUserData* profileInfo ) {
    if ([returnCode success]){
        username = profileInfo.userName;
    }           
};  
[user syncGetProfileInfo:returnBlock];
</pre><h3><a class="el" href="interface_k_k_match.html">KKMatch</a></h3>
<p>The <a class="el" href="interface_k_k_match.html">KKMatch</a> class represents a turn based match using the Kumakore Service. Turn-based matches are currently only between two players.</p>
<p>You cannot actually create an instance of the <a class="el" href="interface_k_k_match.html">KKMatch</a> Class, but certain methods in <a class="el" href="interface_k_k_user.html">KKUser</a> have them as return parameters. For example, syncGetCurrentMatches returns an NSArray of <a class="el" href="interface_k_k_match.html">KKMatch</a> objects that the user is currently participating in. To call this function we need to set up a return block, and in this example, an NSArray which will exist outside of the block which we will use to store the <a class="el" href="interface_k_k_match.html">KKMatch</a> objects. </p>
<pre class="fragment">    __BLOCK NSArray *matches;
void (^returnBlock)(KKReturnStatus*, NSArray*) = ^(KKReturnStatus* returnCode, NSArray* matchData ) {
    if ([returnCode success]){
        matches = matchData;
    }           
};  
[user syncGetCurrentMatches:returnBlock];
</pre><p>Now that we have an array of the matches our user is currently participating in, we can call <a class="el" href="interface_k_k_match.html">KKMatch</a> methods.</p>
<p>For example if our user wanted to close out every single match he is participating in, we can loop through the array and call syncClose on each one of them. </p>
<pre class="fragment">for (KKMatch *match : matches){
    [match syncClose:nil];
}
</pre><h3>KKAchievement</h3>
<p>The KKAchievement class represents the achievments created through the Kumakore Dashboard for a given application.</p>
<p>Instances of the KKAchievement class cannot be created like KKMatches, but instead are return parameters in certain methods in the <a class="el" href="interface_k_k_user.html">KKUser</a> class. To get all the achievements for the user, we are going to use the <a class="el" href="interface_k_k_user.html">KKUser</a> method syncGetAchievements. </p>
<pre class="fragment">    __BLOCK NSArray *achievements;
void (^returnBlock)(KKReturnStatus*, NSArray*) = ^(KKReturnStatus* returnCode, NSArray* achievementData ) {
    if ([returnCode success]){
        achievements = achievementData;
    }           
};  
[user syncGetAchievements:returnBlock];
</pre><p>After we have figured out which achievement we want to update, we can call the KKAchievement method syncSetUserAchievement. For this method we need the <a class="el" href="interface_k_k_user.html">KKUser</a> object, an int to represent the progress, and the optional return block. </p>
<pre class="fragment">[achievement syncSetUserProgress:user progress:25 return: returnBlock];</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Mar 9 2014 22:33:10 for iOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
